@model MvcWebsite.Models.Board

@{
    ViewData["Title"] = "details";
    var board = (Board)ViewData["board"];
    var stikies = (IEnumerable<Stiky>)ViewData["stikies"];
}

@section Scripts {
    @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "__AjaxAntiForgeryForm" }))
    {
        @Html.AntiForgeryToken()
    }
}

<div class="container justify-content-center">

    <div class="row">
        <p><small>@board.CreatedAt</small></p>
    </div>
    <div class="row mb-1 justify-content-center">
        <div class="col-8 mb-2 justify-content-center bg-@board.BoardColor">
            <h3>@board.Title</h3>
        </div>
    </div>
    <div class="row mb-3 border-bottom">
        <p><small>@board.Tags</small></p>
    </div>

    <div class="row mb-3 justify-content-center">
        <div class="btn-group border-bottom">
            <a asp-action="Edit" asp-route-id="@board.Id" class="btn btn-sm btn-dark">Edit</a>
            <a class="btn btn-light btn-block" asp-action="Index"><img class="small-image" src="/images/to_boards.png" alt="">&nbsp;boards</a>
        </div>
    </div>

    <div class="row mb-3 justify-content-center">
        <div class="col-8">
            @board.Text
        </div>
    </div>

    <div id="container-stikies" class="row mb-3 justify-content-center">
        @foreach (Stiky s in stikies)
        {
            <div class="col-8" style="word-wrap:break-word">
                <div>
                    <p>@s.Text</p>
                </div>
            </div>
        }
    </div>

    <div class="row mb-3 justify-content-center">
        <div class="col-2">
            <div class="list-group" id="stikyTabs" role="tablist">
                <a class="list-group-item list-group-item-action active" id="text-tab" href="#text" role="tab" aria-controls="text"
                       aria-selected="true" data-toggle="list">Stiky Text</a>
                <a class="list-group-item list-group-item-action" id="list-tab" href="#list" role="tab" aria-controls="list"
                       aria-selected="false" data-toggle="list">Stiky List</a>
                <a class="list-group-item list-group-item-action" id="image-tab" href="#image" role="tab" aria-controls="image"
                       aria-selected="false" data-toggle="list">Stiky Pic</a>
            </div>
        </div>
        <div class="col-6">
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="text" role="tabpanel" aria-labelledby="text-tab">
                    <label for="newStiky" class="sr-only">New Stiky note</label>
                    <textarea name="newStiky" class="form-control mb-2" id="newStiky" placeholder="New stiky note" rows="4" maxlength="999"></textarea>

                    <button onclick="addNewStiky(@board.Id)" class="btn btn-sm btn-light float-right">Add</button>
                    <p id="wordCounter" class="float-left">999</p>
                </div>
                <div class="tab-pane fade" id="list" role="tabpanel" aria-labelledby="list-tab">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="customCheck1">
                        <label class="custom-control-label" for="customCheck1">Check this custom checkbox</label>
                    </div>
                </div>
                <div class="tab-pane fade" id="image" role="tabpanel" aria-labelledby="image-tab">
                    @using (Html.BeginForm("NewStikyImage", "Boards", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        @*@Html.ValidationSummary();*@
                        <input type='file' class="custom-file-input" id="newStikyPic" name="newStikyPic"/>
                        <label class="custom-file-label" for="customFile">Choose file</label>
                        <span class="text-danger" id="spanfile"></span>

                        <img class="med-image" src="\images\empty_pic.png" alt="UploadedImage" id="newStikyPicPreview" />

                        <input type="submit" id="btnUpload" class="btn btn-sm btn-dark" value="Upload" />
                    }
                </div>
            </div>
        </div>
    </div>

</div>

<script src="~/js/scripts.js" asp-append-version="true"></script>